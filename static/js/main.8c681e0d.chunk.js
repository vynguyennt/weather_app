(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{19:function(e,t,a){"use strict";a.d(t,"a",function(){return i}),a.d(t,"b",function(){return o});var n=a(0),s=a.n(n);function i(){return s.a.createElement("div",{className:"overlay"},s.a.createElement("div",{className:"page-loader"}))}function o(){return s.a.createElement("div",{className:"section-overlay"},s.a.createElement("div",{className:"section-loader icon-loader"}),s.a.createElement("div",{className:"section-loader text-loader"}),s.a.createElement("div",{className:"section-loader text-loader"}))}},20:function(e,t,a){"use strict";var n=a(10),s=a(11),i=a(14),o=a(12),r=a(13),c=a(0),l=a.n(c),u=a(6),d=a(1),m=(a(34),a(9)),h=a(22);a(36);var g=Object(d.g)(function(e){var t=e.location.pathname.slice(1);return l.a.createElement("header",{className:"App-header "+(t.length>0?"":"start-header")},t.length>0?l.a.createElement(l.a.Fragment,null,l.a.createElement(h.a,{showTitle:!1,handleSearch:function(t,a,n){t=t.trim(),e.setSearchValue(t),t&&t.length>2&&(e.setLocation(a,n),e.history.push("/weather/".concat(t,"/").concat(a,"/").concat(n)))},searchValue:e.searchValue||""}),l.a.createElement(u.b,{to:"favorite"===t?"/":"/favorite",className:"favorite-link icon-btn"},l.a.createElement("i",{className:"material-icons"},"favorite"===t?"home":"grid_view"))):l.a.createElement(l.a.Fragment,null,l.a.createElement(u.b,{to:"/"},l.a.createElement("div",{className:"App-logo",alt:"logo"})),l.a.createElement(u.b,{to:"favorite",className:"favorite-link icon-btn"},l.a.createElement("i",{className:"material-icons"},"grid_view"))))}),f=a(19);a.d(t,"b",function(){return y});var v=Object(c.lazy)(function(){return a.e(7).then(a.bind(null,295))}),b=Object(c.lazy)(function(){return Promise.all([a.e(0),a.e(3),a.e(6)]).then(a.bind(null,296))}),p=Object(c.lazy)(function(){return Promise.all([a.e(0),a.e(5)]).then(a.bind(null,301))}),E=l.a.createContext("");function y(){return Object(c.useContext)(E)}var S=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(o.a)(t).call(this,e))).setSearchValue=function(e){a.setState({searchValue:e})},a.setLocation=function(e,t){a.setState({lat:e,lon:t})},a.setTimeAndRain=function(e,t,n,s){a.setState({rain:s}),t-e===1?a.setState({time:"dawn"}):e===t?a.setState({time:"sunrise"}):e>t&&e<=12?a.setState({time:"morning"}):e>12&&e<n?a.setState({time:"afternoon"}):e===n?a.setState({time:"sunset"}):n-e===1?a.setState({time:"dusk"}):a.setState({time:"night"})},a.resetBackground=function(){a.setState({time:"start",rain:!1})},a.state={searchValue:"",lat:0,lon:0,time:"start",rain:!1,hasError:!1},a}return Object(r.a)(t,e),Object(s.a)(t,[{key:"componentDidCatch",value:function(e,t){console.log(e,t)}},{key:"componentDidMount",value:function(){Object(m.g)("starfield")}},{key:"render",value:function(){var e=this;return this.state.hasError?l.a.createElement("h1",null,"Something went wrong..."):l.a.createElement(u.a,null,l.a.createElement(E.Provider,{value:"dd7b078955b9a8f743b67fdd8db9a012"},l.a.createElement("div",{className:"App bg-".concat(this.state.time," ").concat(this.state.rain?"bg-rain":""," ").concat(Object(m.c)(this.state.time)?"bg-dark":"")},l.a.createElement(g,{setSearchValue:this.setSearchValue,setLocation:this.setLocation,searchValue:this.state.searchValue,lat:this.state.lat,lon:this.state.lon}),l.a.createElement(c.Suspense,{fallback:l.a.createElement(f.a,null)},l.a.createElement(d.b,{path:"/",exact:!0,render:function(t){return l.a.createElement(v,Object.assign({},t,{setSearchValue:e.setSearchValue,setLocation:e.setLocation,searchValue:e.state.searchValue,lat:e.state.lat,lon:e.state.lon,resetBackground:e.resetBackground}))}}),l.a.createElement(d.b,{path:"/weather/:name/:lat/:lon",render:function(t){return l.a.createElement(b,Object.assign({},t,{searchValue:e.state.searchValue,setTimeAndRain:e.setTimeAndRain}))}}),l.a.createElement(d.b,{path:"/favorite",render:function(t){return l.a.createElement(p,Object.assign({},t,{resetBackground:e.resetBackground}))}})),l.a.createElement("div",{className:"bg-start__top"}),l.a.createElement("div",{className:"bg-start__bottom"},l.a.createElement("canvas",{id:"starfield",width:"1500",height:"1500"})))))}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(c.Component);t.a=S},22:function(e,t,a){"use strict";var n=a(10),s=a(11),i=a(14),o=a(12),r=a(13),c=a(0),l=a.n(c),u=(a(35),a(9)),d=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(o.a)(t).call(this,e)))._isMounted=!1,a.getLocationSuggestion=Object(u.b)(function(e){a.setState({selected:!1,suggestions:[],activeLocation:0},function(){e&&e.trim().length&&(a.getSuggestions=fetch("https://restcountries.eu/rest/v2/name/".concat(e)).then(function(e){return e.json()}).then(function(t){return a._isMounted&&a.setState(function(e,a){return e.selected||t.status?{suggestions:[]}:{suggestions:t.map(function(e){return{id:e.alpha3Code,name:e.name,region:e.region,latitude:e.latlng[0],longitude:e.latlng[1]}})}}),fetch("https://wft-geo-db.p.rapidapi.com/v1/geo/cities?limit=10&namePrefix=".concat(e),{headers:{"x-rapidapi-key":"95402d4e39msha9374dd685e1f78p1655c6jsn9d03f517101c","x-rapidapi-host":"wft-geo-db.p.rapidapi.com",useQueryString:!0}})}).then(function(e){return e.json()}).then(function(e){a._isMounted&&a.setState(function(t){return t.selected?{suggestions:[]}:{suggestions:t.suggestions.concat(e.data)}})}))})},1e3),a.handleChange=function(e){var t=e.target.value;a.setState({searchValue:t}),a.getLocationSuggestion(!1,t)},a.handleSubmit=function(e){e&&e.preventDefault()},a.selectCurrentLocation=function(){fetch("https://geolocation-db.com/json/").then(function(e){return e.json()}).then(function(e){a.setState({searchValue:e.city,lat:e.latitude,lon:e.longitude,suggestions:[],selected:!0},function(){a.getLocationSuggestion(!0,null),a.props.handleSearch(a.state.searchValue,a.state.lat,a.state.lon)})})},a.selectCity=function(e){a.setState({searchValue:e.target.dataset.name,lat:e.target.dataset.lat,lon:e.target.dataset.lon,suggestions:[],selected:!0},function(){a.getLocationSuggestion(!0,null),a.props.handleSearch(a.state.searchValue,a.state.lat,a.state.lon)})},a.handleKeySelectLocation=function(e){function t(){var e=this.suggestListRef.current.scrollTop,t=e+300,a=38*this.state.activeLocation;(a<e||a+38>t)&&(this.suggestListRef.current.scrollTop=a)}13===e.keyCode&&a.state.suggestions.length?a.setState(function(e){return{searchValue:e.suggestions[e.activeLocation].name,lat:e.suggestions[e.activeLocation].latitude,lon:e.suggestions[e.activeLocation].longitude,suggestions:[],selected:!0}},function(){a.getLocationSuggestion(!0,null),a.props.handleSearch(a.state.searchValue,a.state.lat,a.state.lon)}):40===e.keyCode?a.setState(function(e){return e.activeLocation==e.suggestions.length-1?{activeLocation:0}:{activeLocation:e.activeLocation+1}},t):38===e.keyCode&&a.setState(function(e){return 0==e.activeLocation?{activeLocation:e.suggestions.length-1}:{activeLocation:e.activeLocation-1}},t)},a.state={searchValue:e.searchValue?e.searchValue:"",suggestions:[],activeLocation:0,selected:!1},a.suggestListRef=l.a.createRef(),a}return Object(r.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this.getLocationSuggestion(!0,null),this._isMounted=!1}},{key:"render",value:function(){var e=this;return l.a.createElement("form",{onSubmit:this.handleSubmit,onKeyUp:this.handleKeySelectLocation,className:"search-form"},this.props.showTitle&&l.a.createElement("h1",{className:"search-title"},"Check weather at ..."),l.a.createElement("div",{className:"search-box"+(this.state.suggestions.length?" search-box--with-suggestions":"")},l.a.createElement("input",{type:"text",className:"search-input",value:this.state.searchValue,onChange:this.handleChange,placeholder:"Search location"}),l.a.createElement("button",{type:"button",className:"icon-btn current-location-btn",onClick:this.selectCurrentLocation},l.a.createElement("i",{className:"material-icons"},"gps_fixed")),l.a.createElement("button",{type:"submit",value:"submit",className:"icon-btn"},l.a.createElement("i",{className:"material-icons"},"search"))),l.a.createElement("ul",{className:"suggest-list"+(this.state.suggestions.length?" suggest-list--active":""),ref:this.suggestListRef},this.state.suggestions.map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;return l.a.createElement("li",{key:t.id,className:"suggest-list__item "+(a===e.state.activeLocation?"suggest-list__item--active":""),onClick:e.selectCity,"data-name":t.name,"data-lat":t.latitude,"data-lon":t.longitude},t.name," (",t.region,")")})))}}]),t}(c.Component);t.a=d},28:function(e,t,a){e.exports=a(29)},29:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(24),o=a.n(i),r=a(20);a(41);o.a.render(s.a.createElement(r.a,null),document.getElementById("root"))},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},41:function(e,t,a){},9:function(e,t,a){"use strict";function n(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(n){for(var s=arguments.length,i=new Array(s>1?s-1:0),o=1;o<s;o++)i[o-1]=arguments[o];clearTimeout(t),n||(t=setTimeout(function(){clearTimeout(t),e.apply(void 0,i)},a))}}function s(){o();for(var e=0,t="",a="";e<33;){var n=Math.floor(98*Math.random()+1),s=Math.floor(4*Math.random()+2);t+='<div class="drop" style="left: '+3*(e+=s)+"%; bottom: "+(s+s-1+100)+"%; animation-delay: 0."+n+"s; animation-duration: 0.5"+n+'s;"><div class="stem" style="animation-delay: 0.'+n+"s; animation-duration: 0.5"+n+'s;"></div><div class="splat" style="animation-delay: 0.'+n+"s; animation-duration: 0.5"+n+'s;"></div></div>',a+='<div class="drop" style="right: '+3*e+"%; bottom: "+(s+s-1+100)+"%; animation-delay: 0."+n+"s; animation-duration: 0.5"+n+'s;"><div class="stem" style="animation-delay: 0.'+n+"s; animation-duration: 0.5"+n+'s;"></div><div class="splat" style="animation-delay: 0.'+n+"s; animation-duration: 0.5"+n+'s;"></div></div>'}document.getElementsByClassName("front-row")[0].innerHTML=t,document.getElementsByClassName("back-row")[0].innerHTML=a}function i(){o();for(var e=0,t="";e<50;){var a=Math.floor(98*Math.random()+1);e+=Math.floor(4*Math.random()+2),t+=a%2?'<div class="snowflake"></div>':'<div class="snowflake snowflake snowflake--big"></div>',document.getElementsByClassName("snowflakes")[0].innerHTML=t}}function o(){for(var e=document.getElementById("front-row");e.firstChild;)e.removeChild(e.firstChild);for(e=document.getElementById("back-row");e.firstChild;)e.removeChild(e.firstChild);for(e=document.getElementsByClassName("snowflakes")[0];e.firstChild;)e.removeChild(e.firstChild)}function r(e){for(var t=document.getElementById(e),a=t.getContext("2d"),n=0;n<200;n++){var s=Math.random()*t.offsetWidth,i=Math.random()*t.offsetHeight;a.fillStyle="white",a.fillRect(s,i,1,1)}}function c(e){return e.length?e[0].toUpperCase()+e.substr(1):e}function l(e){return!!["dawn","sunset","dusk","night","rain","storm"].includes(e)}a.d(t,"b",function(){return n}),a.d(t,"e",function(){return s}),a.d(t,"f",function(){return i}),a.d(t,"d",function(){return o}),a.d(t,"g",function(){return r}),a.d(t,"a",function(){return c}),a.d(t,"c",function(){return l})}},[[28,2,4]]]);
//# sourceMappingURL=main.8c681e0d.chunk.js.map