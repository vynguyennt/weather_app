{"version":3,"sources":["app/common/Utils.js","app/common/SearchWidget.js","app/common/Header.js","app/common/Loading.js","app/App.js","index.js"],"names":["debounce","fn","timeout","wait","arguments","length","undefined","abort","_len","args","Array","_key","clearTimeout","setTimeout","apply","makeItRain","makeItClear","increment","drops","backDrops","randoHundo","Math","floor","random","randoFiver","document","getElementsByClassName","innerHTML","makeItSnow","snowflakes","el","getElementById","firstChild","removeChild","makeItStarry","canvasId","canvas","context","getContext","i","x","offsetWidth","y","offsetHeight","fillStyle","fillRect","capitalizeText","s","toUpperCase","substr","__webpack_require__","d","__webpack_exports__","SearchWidget","props","_this","Object","_Users_vynguyen_Documents_Projects_My_Projects_weather_app_weather_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_Users_vynguyen_Documents_Projects_My_Projects_weather_app_weather_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_vynguyen_Documents_Projects_My_Projects_weather_app_weather_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","_isMounted","getLocationSuggestion","value","setState","selected","suggestions","activeLocation","trim","getSuggestions","fetch","concat","then","res","json","data","state","status","map","country","id","alpha3Code","name","region","latitude","latlng","longitude","headers","x-rapidapi-key","x-rapidapi-host","useQueryString","handleChange","event","target","searchValue","handleSubmit","preventDefault","selectCurrentLocation","city","lat","lon","handleSearch","selectCity","dataset","handleKeySelectLocation","callback","scrollTop","suggestListRef","current","viewport","elOffset","keyCode","React","createRef","_this2","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","onSubmit","onKeyUp","className","showTitle","type","onChange","placeholder","onClick","ref","index","key","data-name","data-lat","data-lon","Component","withRouter","path","location","pathname","slice","favoriteLocations","JSON","parse","window","localStorage","getItem","react_default","react_router_dom","to","alt","setSearchValue","setLocation","history","push","Loading","StartScreen","lazy","e","bind","WeatherScreen","Promise","all","FavoriteScreen","App","classCallCheck","possibleConstructorReturn","getPrototypeOf","setTimeAndRain","time","sunrise","sunset","rain","resetBackground","hasError","error","errorInfo","console","log","common_Header","react","fallback","common_Loading","react_router","exact","render","assign","width","height","ReactDOM","src_app_App"],"mappings":"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","file":"static/js/main.60aec402.chunk.js","sourcesContent":["export function debounce(fn, wait = 300) {\n  let timeout\n  return (abort, ...args) => {\n    function later() {\n      clearTimeout(timeout)\n      fn(...args)\n    }\n    clearTimeout(timeout)\n    if (abort) return\n    timeout = setTimeout(later, wait)\n  }\n}\n\nexport function makeItRain() {\n  //clear out everything\n  makeItClear()\n\n  let increment = 0\n  let drops = \"\"\n  let backDrops = \"\"\n\n  while (increment < 33) {\n    //couple random numbers to use for various randomizations\n    //random number between 98 and 1\n    let randoHundo = (Math.floor(Math.random() * (98 - 1 + 1) + 1))\n    //random number between 5 and 2\n    let randoFiver = (Math.floor(Math.random() * (5 - 2 + 1) + 2))\n    //increment\n    increment += randoFiver\n    //add in a new raindrop with various randomizations to certain CSS properties\n    drops += '<div class=\"drop\" style=\"left: ' + increment*3 + '%; bottom: ' + (randoFiver + randoFiver - 1 + 100) + '%; animation-delay: 0.' + randoHundo + 's; animation-duration: 0.5' + randoHundo + 's;\"><div class=\"stem\" style=\"animation-delay: 0.' + randoHundo + 's; animation-duration: 0.5' + randoHundo + 's;\"></div><div class=\"splat\" style=\"animation-delay: 0.' + randoHundo + 's; animation-duration: 0.5' + randoHundo + 's;\"></div></div>'\n    backDrops += '<div class=\"drop\" style=\"right: ' + increment*3 + '%; bottom: ' + (randoFiver + randoFiver - 1 + 100) + '%; animation-delay: 0.' + randoHundo + 's; animation-duration: 0.5' + randoHundo + 's;\"><div class=\"stem\" style=\"animation-delay: 0.' + randoHundo + 's; animation-duration: 0.5' + randoHundo + 's;\"></div><div class=\"splat\" style=\"animation-delay: 0.' + randoHundo + 's; animation-duration: 0.5' + randoHundo + 's;\"></div></div>'\n  }\n\n  document.getElementsByClassName('front-row')[0].innerHTML = drops\n  document.getElementsByClassName('back-row')[0].innerHTML = backDrops\n}\n\nexport function makeItSnow() {\n  //clear out everything\n  makeItClear()\n\n  let increment = 0\n  let snowflakes = \"\"\n\n  while (increment < 50) {\n    //couple random numbers to use for various randomizations\n    //random number between 98 and 1\n    let randoHundo = (Math.floor(Math.random() * (98 - 1 + 1) + 1))\n    //random number between 5 and 2\n    let randoFiver = (Math.floor(Math.random() * (5 - 2 + 1) + 2))\n    //increment\n    increment += randoFiver\n    if (randoHundo % 2) {\n      snowflakes += '<div class=\"snowflake\"></div>'\n    } else {\n      snowflakes += '<div class=\"snowflake snowflake snowflake--big\"></div>'\n    }\n    document.getElementsByClassName('snowflakes')[0].innerHTML = snowflakes\n  }\n}\n\nexport function makeItClear() {\n  //clear out everything\n  let el = document.getElementById('front-row')\n  while (el.firstChild) el.removeChild(el.firstChild)\n  el = document.getElementById('back-row')\n  while (el.firstChild) el.removeChild(el.firstChild)\n  el = document.getElementsByClassName('snowflakes')[0]\n  while (el.firstChild) el.removeChild(el.firstChild)\n}\n\nexport function makeItStarry(canvasId) {\n  let canvas = document.getElementById(canvasId),\n  context = canvas.getContext(\"2d\"),\n  stars = 200\n\n  for (var i = 0; i < stars; i++) {\n    let x = Math.random() * canvas.offsetWidth\n    let y = Math.random() * canvas.offsetHeight\n    context.fillStyle = \"white\"\n    context.fillRect(x,y,1,1)\n  }\n}\n\nexport function capitalizeText(s) {\n  return s.length ? s[0].toUpperCase() + s.substr(1) : s\n}","import React, { Component } from 'react';\nimport './SearchWidget.css';\nimport {debounce} from './Utils';\n\nclass SearchWidget extends Component {\n  constructor(props) {\n    super(props)\n    this.state = { \n      searchValue: props.searchValue ? props.searchValue : '',\n      suggestions: [],\n      activeLocation: 0,\n      selected: false\n    }\n    this.suggestListRef = React.createRef()\n  }\n\n  _isMounted = false\n\n  componentDidMount() {\n    this._isMounted = true\n  }\n\n  componentWillUnmount() {\n    this.getLocationSuggestion(true, null)\n    this._isMounted = false\n  }\n\n  getLocationSuggestion = debounce((value) => {\n    this.setState({selected: false, suggestions: [], activeLocation: 0}, () => {\n      if (value && value.trim().length) {\n        this.getSuggestions = fetch(`https://restcountries.eu/rest/v2/name/${value}`)\n        .then(res => res.json())\n        .then(data => {\n          if (this._isMounted) {\n            this.setState((state, props) => {\n              if (!state.selected && !data.status) return {\n                suggestions: data.map(country => ({\n                  id: country.alpha3Code,\n                  name: country.name,\n                  region: country.region,\n                  latitude: country.latlng[0],\n                  longitude: country.latlng[1]\n                }))\n              }\n              return {suggestions: []}\n            })\n          }\n          return fetch(`https://wft-geo-db.p.rapidapi.com/v1/geo/cities?limit=10&namePrefix=${value}`, {\n            headers: {\n              \"x-rapidapi-key\": \"95402d4e39msha9374dd685e1f78p1655c6jsn9d03f517101c\",\n              \"x-rapidapi-host\": \"wft-geo-db.p.rapidapi.com\",\n              \"useQueryString\": true\n            }\n          })\n        })\n        .then(res => res.json())\n        .then(data => {\n          if (this._isMounted) {\n            this.setState((state) => {\n              if (!state.selected) return {suggestions: state.suggestions.concat(data.data)}\n              return {suggestions: []}\n            })\n          }\n        })\n      }\n    })\n  }, 1000)\n\n  handleChange = (event) => {\n    let value = event.target.value\n    this.setState({ \n      searchValue: value,\n    })\n    this.getLocationSuggestion(false, value)\n  }\n\n  handleSubmit = (event) => {\n    if(event) event.preventDefault()\n  }\n\n  selectCurrentLocation = () => {\n    fetch(`https://geolocation-db.com/json/`)\n    .then(res => res.json())\n    .then(data => {\n      this.setState({\n        searchValue: data.city,\n        lat: data.latitude,\n        lon: data.longitude,\n        suggestions: [],\n        selected: true\n      }, () => {\n        this.getLocationSuggestion(true, null)\n        this.props.handleSearch(this.state.searchValue, this.state.lat, this.state.lon)\n      })\n    })\n  }\n\n  selectCity = (event) => {\n    this.setState({\n      searchValue: event.target.dataset.name,\n      lat: event.target.dataset.lat,\n      lon: event.target.dataset.lon,\n      suggestions: [],\n      selected: true\n    }, () => {\n      this.getLocationSuggestion(true, null)\n      this.props.handleSearch(this.state.searchValue, this.state.lat, this.state.lon)\n    })\n  }\n\n  handleKeySelectLocation = (event) => {\n    if (event.keyCode === 13) {\n      this.setState((state) => ({\n        searchValue: state.suggestions[state.activeLocation].name,\n        lat: state.suggestions[state.activeLocation].latitude,\n        lon: state.suggestions[state.activeLocation].longitude,\n        suggestions: [],\n        selected: true\n      }), () => {\n        this.getLocationSuggestion(true, null)\n        this.props.handleSearch(this.state.searchValue, this.state.lat, this.state.lon)\n      })\n    } else if (event.keyCode === 40) {\n      this.setState((state) => {\n        if (state.activeLocation == state.suggestions.length - 1) {\n          return {activeLocation: 0}\n        }\n        return {activeLocation: state.activeLocation + 1}\n      }, callback)\n    } else if (event.keyCode === 38) {\n      this.setState((state) => {\n        if (state.activeLocation == 0) {\n          return {activeLocation: state.suggestions.length - 1}\n        }\n        return {activeLocation: state.activeLocation - 1}\n      }, callback)\n    }\n\n    function callback() {\n      let elHeight = 38\n      let scrollTop = this.suggestListRef.current.scrollTop\n      let viewport = scrollTop + 300\n      let elOffset = elHeight * this.state.activeLocation\n      \n      if (elOffset < scrollTop || (elOffset + elHeight) > viewport) {\n        this.suggestListRef.current.scrollTop = elOffset\n      }\n    }\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit} onKeyUp={this.handleKeySelectLocation} className=\"search-form\">\n        {this.props.showTitle &&\n          <h1 className=\"search-title\">Check weather at ...</h1>\n        }\n        <div className={'search-box' + (this.state.suggestions.length ? ' search-box--with-suggestions' : '')}>\n          <input type=\"text\" className=\"search-input\" value={this.state.searchValue} onChange={this.handleChange} placeholder=\"Search location\" />\n          <button type=\"button\" className=\"icon-btn current-location-btn\" onClick={this.selectCurrentLocation}>\n            <i className=\"material-icons\">gps_fixed</i>\n          </button>\n          <button type=\"submit\" value=\"submit\" className=\"icon-btn\">\n            <i className=\"material-icons\">search</i>\n          </button>\n        </div>\n        <ul className={'suggest-list' + (this.state.suggestions.length ? ' suggest-list--active' : '')} ref={this.suggestListRef}>\n          {\n            this.state.suggestions.map((city = {}, index) => (\n              <li key={city.id} className={'suggest-list__item ' + (index === this.state.activeLocation ? 'suggest-list__item--active': '')} \n              onClick={this.selectCity} data-name={city.name} data-lat={city.latitude} data-lon={city.longitude}>\n                {city.name} ({city.region})\n                </li>\n            ))\n          }\n        </ul>\n      </form>\n    )\n  }\n}\n\nexport default SearchWidget","import React from 'react'\nimport { Link } from \"react-router-dom\"\nimport { withRouter } from \"react-router-dom\";\nimport SearchWidget from './SearchWidget'\n\nfunction Header(props) {\n  const path = props.location.pathname.slice(1)\n  const favoriteLocations = JSON.parse(window.localStorage.getItem('favoriteLocations')) || []\n  function handleSearch(searchValue, lat, lon) {\n    searchValue = searchValue.trim()\n    props.setSearchValue(searchValue)\n    if (searchValue && searchValue.length > 2) {\n      props.setLocation(lat, lon)\n      props.history.push(`/weather/${searchValue}/${lat}/${lon}`)\n    }\n  }\n  return (\n    <header className={'App-header ' + (path.length > 0 ? '' : 'start-header')}>\n      <Link to={favoriteLocations.length ? '/favorite' : '/'}><div className=\"App-logo\" alt=\"logo\" /></Link>\n      {\n        path.length > 0 &&\n        <SearchWidget showTitle={false} handleSearch={handleSearch} searchValue={props.searchValue || ''} />\n      }\n    </header>\n  )\n}\n\nexport default withRouter(Header)\n","import React from 'react'\n\nfunction Loading() {\n return (\n   <div>Loading...</div>\n )\n}\n\nexport default Loading","import React, { Component, Suspense, lazy } from 'react'\nimport { HashRouter as Router, Route } from \"react-router-dom\"\nimport './App.css'\nimport { makeItStarry } from './common/Utils'\nimport Header from './common/Header'\nimport Loading from './common/Loading'\nconst StartScreen = lazy(() => import('./start/StartScreen'))\nconst WeatherScreen = lazy(() => import('./weather/WeatherScreen'))\nconst FavoriteScreen = lazy(() => import('./favorite/FavoriteScreen'))\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      searchValue: '',\n      lat: 0,\n      lon: 0,\n      time: 'start',\n      rain: false,\n      hasError: false\n    }\n  }\n\n  static getDerivedStateFromError(error) {\n    return {hasError: true}\n  }\n\n  componentDidCatch(error, errorInfo) {\n    // You can also log the error to an error reporting service\n    console.log(error, errorInfo);\n  }\n\n  componentDidMount() {\n    makeItStarry('starfield')\n  }\n\n  setSearchValue = (value) => {\n    this.setState({searchValue: value})\n  }\n\n  setLocation = (lat, lon) => {\n    this.setState({lat, lon})\n  }\n\n  setTimeAndRain = (time, sunrise, sunset, rain) => {\n    this.setState({rain})\n    if ((sunrise - time) === 1) {\n      this.setState({time: 'dawn'})\n    } else if (time === sunrise) {\n      this.setState({time: 'sunrise'})\n    } else if (time > sunrise && time <= 12) {\n      this.setState({time: 'morning'})\n    } else if (time > 12 && time < sunset) {\n      this.setState({time: 'afternoon'})\n    } else if (time === sunset) {\n      this.setState({time: 'sunset'})\n    } else if ((sunset - time) === 1) {\n      this.setState({time: 'dusk'})\n    } else {\n      this.setState({time: 'night'})\n    }\n  }\n\n  resetBackground = () => {\n    this.setState({time: 'start', rain: false})\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return (\n        <h1>Something went wrong...</h1>\n      )\n    }\n    return (\n      <Router>\n        <div className={`App bg-${this.state.time} ${this.state.rain ? 'bg-rain' : ''}`}>\n          <Header setSearchValue={this.setSearchValue} setLocation={this.setLocation} \n            searchValue={this.state.searchValue} lat={this.state.lat} lon={this.state.lon} />\n          <Suspense fallback={<Loading/>}>\n            <Route path=\"/\" exact render={(props) => \n              <StartScreen {...props} setSearchValue={this.setSearchValue} setLocation={this.setLocation} \n                searchValue={this.state.searchValue} lat={this.state.lat} lon={this.state.lon} resetBackground={this.resetBackground} />} />\n            <Route path=\"/weather/:name/:lat/:lon\" render={(props) => \n              <WeatherScreen {...props} searchValue={this.state.searchValue} setTimeAndRain={this.setTimeAndRain} />} />\n            <Route path=\"/favorite\" render={(props) => <FavoriteScreen {...props} resetBackground={this.resetBackground} />} />\n          </Suspense>\n          <div className=\"bg-start__top\"></div>\n          <div className=\"bg-start__bottom\"><canvas id=\"starfield\" width=\"1500\" height=\"1500\"></canvas></div>\n        </div>\n      </Router>\n    )\n  }\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './app/App';\nimport './index.css';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}