{"version":3,"sources":["app/common/Utils.js","app/common/SearchWidget.js","app/common/Header.js","app/common/Loading.js","app/App.js","index.js"],"names":["debounce","fn","timeout","wait","arguments","length","undefined","abort","_len","args","Array","_key","clearTimeout","setTimeout","apply","makeItRain","makeItClear","increment","drops","backDrops","randoHundo","Math","floor","random","randoFiver","document","getElementsByClassName","innerHTML","makeItSnow","snowflakes","el","getElementById","firstChild","removeChild","makeItStarry","canvasId","canvas","context","getContext","i","x","offsetWidth","y","offsetHeight","fillStyle","fillRect","capitalizeText","s","toUpperCase","substr","__webpack_require__","d","__webpack_exports__","SearchWidget","props","_this","Object","_Users_vynguyen_Documents_Projects_My_Projects_weather_app_weather_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_Users_vynguyen_Documents_Projects_My_Projects_weather_app_weather_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_vynguyen_Documents_Projects_My_Projects_weather_app_weather_app_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","_isMounted","getLocationSuggestion","value","setState","selected","suggestions","trim","getSuggestions","fetch","concat","then","res","json","data","state","status","map","country","id","alpha3Code","name","region","latitude","latlng","longitude","headers","x-rapidapi-key","x-rapidapi-host","useQueryString","handleChange","event","target","searchValue","handleSubmit","preventDefault","selectCurrentLocation","city","lat","lon","handleSearch","selectCity","dataset","_this2","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","onSubmit","className","showTitle","type","onChange","placeholder","onClick","key","data-name","data-lat","data-lon","Component","withRouter","path","location","pathname","slice","favoriteLocations","JSON","parse","window","localStorage","getItem","react_default","react_router_dom","to","alt","setSearchValue","setLocation","history","push","Loading","StartScreen","lazy","e","bind","WeatherScreen","Promise","all","FavoriteScreen","App","classCallCheck","possibleConstructorReturn","getPrototypeOf","setTimeAndRain","time","sunrise","sunset","rain","resetBackground","hasError","error","errorInfo","console","log","common_Header","react","fallback","common_Loading","react_router","exact","render","assign","width","height","ReactDOM","src_app_App"],"mappings":"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","file":"static/js/main.887cf1fb.chunk.js","sourcesContent":["export function debounce(fn, wait = 300) {\n  let timeout\n  return (abort, ...args) => {\n    function later() {\n      clearTimeout(timeout)\n      fn(...args)\n    }\n    clearTimeout(timeout)\n    if (abort) return\n    timeout = setTimeout(later, wait)\n  }\n}\n\nexport function makeItRain() {\n  //clear out everything\n  makeItClear()\n\n  let increment = 0\n  let drops = \"\"\n  let backDrops = \"\"\n\n  while (increment < 33) {\n    //couple random numbers to use for various randomizations\n    //random number between 98 and 1\n    let randoHundo = (Math.floor(Math.random() * (98 - 1 + 1) + 1))\n    //random number between 5 and 2\n    let randoFiver = (Math.floor(Math.random() * (5 - 2 + 1) + 2))\n    //increment\n    increment += randoFiver\n    //add in a new raindrop with various randomizations to certain CSS properties\n    drops += '<div class=\"drop\" style=\"left: ' + increment*3 + '%; bottom: ' + (randoFiver + randoFiver - 1 + 100) + '%; animation-delay: 0.' + randoHundo + 's; animation-duration: 0.5' + randoHundo + 's;\"><div class=\"stem\" style=\"animation-delay: 0.' + randoHundo + 's; animation-duration: 0.5' + randoHundo + 's;\"></div><div class=\"splat\" style=\"animation-delay: 0.' + randoHundo + 's; animation-duration: 0.5' + randoHundo + 's;\"></div></div>'\n    backDrops += '<div class=\"drop\" style=\"right: ' + increment*3 + '%; bottom: ' + (randoFiver + randoFiver - 1 + 100) + '%; animation-delay: 0.' + randoHundo + 's; animation-duration: 0.5' + randoHundo + 's;\"><div class=\"stem\" style=\"animation-delay: 0.' + randoHundo + 's; animation-duration: 0.5' + randoHundo + 's;\"></div><div class=\"splat\" style=\"animation-delay: 0.' + randoHundo + 's; animation-duration: 0.5' + randoHundo + 's;\"></div></div>'\n  }\n\n  document.getElementsByClassName('front-row')[0].innerHTML = drops\n  document.getElementsByClassName('back-row')[0].innerHTML = backDrops\n}\n\nexport function makeItSnow() {\n  //clear out everything\n  makeItClear()\n\n  let increment = 0\n  let snowflakes = \"\"\n\n  while (increment < 50) {\n    //couple random numbers to use for various randomizations\n    //random number between 98 and 1\n    let randoHundo = (Math.floor(Math.random() * (98 - 1 + 1) + 1))\n    //random number between 5 and 2\n    let randoFiver = (Math.floor(Math.random() * (5 - 2 + 1) + 2))\n    //increment\n    increment += randoFiver\n    if (randoHundo % 2) {\n      snowflakes += '<div class=\"snowflake\"></div>'\n    } else {\n      snowflakes += '<div class=\"snowflake snowflake snowflake--big\"></div>'\n    }\n    document.getElementsByClassName('snowflakes')[0].innerHTML = snowflakes\n  }\n}\n\nexport function makeItClear() {\n  //clear out everything\n  let el = document.getElementById('front-row')\n  while (el.firstChild) el.removeChild(el.firstChild)\n  el = document.getElementById('back-row')\n  while (el.firstChild) el.removeChild(el.firstChild)\n  el = document.getElementsByClassName('snowflakes')[0]\n  while (el.firstChild) el.removeChild(el.firstChild)\n}\n\nexport function makeItStarry(canvasId) {\n  let canvas = document.getElementById(canvasId),\n  context = canvas.getContext(\"2d\"),\n  stars = 200\n\n  for (var i = 0; i < stars; i++) {\n    let x = Math.random() * canvas.offsetWidth\n    let y = Math.random() * canvas.offsetHeight\n    context.fillStyle = \"white\"\n    context.fillRect(x,y,1,1)\n  }\n}\n\nexport function capitalizeText(s) {\n  return s.length ? s[0].toUpperCase() + s.substr(1) : s\n}","import React, { Component } from 'react';\nimport './SearchWidget.css';\nimport {debounce} from './Utils';\n\nclass SearchWidget extends Component {\n  constructor(props) {\n    super(props)\n    this.state = { \n      searchValue: props.searchValue ? props.searchValue : '',\n      suggestions: [],\n      selected: false\n    }\n  }\n\n  _isMounted = false\n\n  componentDidMount() {\n    this._isMounted = true\n  }\n\n  componentWillUnmount() {\n    this.getLocationSuggestion(true, null)\n    this._isMounted = false\n  }\n\n  getLocationSuggestion = debounce((value) => {\n    this.setState({selected: false, suggestions: []}, () => {\n      if (value && value.trim().length) {\n        this.getSuggestions = fetch(`https://restcountries.eu/rest/v2/name/${value}`)\n        .then(res => res.json())\n        .then(data => {\n          if (this._isMounted) {\n            this.setState((state, props) => {\n              if (!state.selected && !data.status) return {suggestions: data.map(country => ({\n                id: country.alpha3Code,\n                name: country.name,\n                region: country.region,\n                latitude: country.latlng[0],\n                longitude: country.latlng[1]\n              }))}\n              return {suggestions: []}\n            })\n          }\n          return fetch(`https://wft-geo-db.p.rapidapi.com/v1/geo/cities?limit=10&namePrefix=${value}`, {\n            headers: {\n              \"x-rapidapi-key\": \"95402d4e39msha9374dd685e1f78p1655c6jsn9d03f517101c\",\n              \"x-rapidapi-host\": \"wft-geo-db.p.rapidapi.com\",\n              \"useQueryString\": true\n            }\n          })\n        })\n        .then(res => res.json())\n        .then(data => {\n          if (this._isMounted) {\n            this.setState((state, props) => {\n              if (!state.selected) return {suggestions: state.suggestions.concat(data.data)}\n              return {suggestions: []}\n            })\n          }\n        })\n      }\n    })\n  }, 1000)\n\n  handleChange = (event) => {\n    let value = event.target.value\n    this.setState({ \n      searchValue: value,\n    })\n    this.getLocationSuggestion(false, value)\n  }\n\n  handleSubmit = (event) => {\n    if(event) event.preventDefault()\n  }\n\n  selectCurrentLocation = () => {\n    fetch(`https://geolocation-db.com/json/`)\n    .then(res => res.json())\n    .then(data => {\n      this.setState({\n        searchValue: data.city,\n        lat: data.latitude,\n        lon: data.longitude,\n        suggestions: [],\n        selected: true\n      }, () => {\n        this.getLocationSuggestion(true, null)\n        this.props.handleSearch(this.state.searchValue, this.state.lat, this.state.lon)\n      })\n    })\n  }\n\n  selectCity = (event) => {\n    this.setState({\n      searchValue: event.target.dataset.name,\n      lat: event.target.dataset.lat,\n      lon: event.target.dataset.lon,\n      suggestions: [],\n      selected: true\n    }, () => {\n      this.getLocationSuggestion(true, null)\n      this.props.handleSearch(this.state.searchValue, this.state.lat, this.state.lon)\n    })\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit} className=\"search-form\">\n        {this.props.showTitle &&\n          <h1 className=\"search-title\">Check weather at ...</h1>\n        }\n        <div className={'search-box' + (this.state.suggestions.length ? ' search-box--with-suggestions' : '')}>\n          <input type=\"text\" className=\"search-input\" value={this.state.searchValue} onChange={this.handleChange} placeholder=\"Search location\" />\n          <button type=\"button\" className=\"icon-btn current-location-btn\" onClick={this.selectCurrentLocation}>\n            <i className=\"material-icons\">gps_fixed</i>\n          </button>\n          <button type=\"submit\" value=\"submit\" className=\"icon-btn\">\n            <i className=\"material-icons\">search</i>\n          </button>\n        </div>\n        <ul className={'suggest-list' + (this.state.suggestions.length ? ' suggest-list--active' : '')}>\n          {\n            this.state.suggestions.map((city = {}) => (\n              <li key={city.id} className=\"suggest-list__item\" onClick={this.selectCity} \n              data-name={city.name} data-lat={city.latitude} data-lon={city.longitude}>\n                {city.name} ({city.region})\n                </li>\n            ))\n          }\n        </ul>\n      </form>\n    )\n  }\n}\n\nexport default SearchWidget","import React from 'react'\nimport { Link } from \"react-router-dom\"\nimport { withRouter } from \"react-router-dom\";\nimport SearchWidget from './SearchWidget'\n\nfunction Header(props) {\n  const path = props.location.pathname.slice(1)\n  const favoriteLocations = JSON.parse(window.localStorage.getItem('favoriteLocations')) || []\n  function handleSearch(searchValue, lat, lon) {\n    searchValue = searchValue.trim()\n    props.setSearchValue(searchValue)\n    if (searchValue && searchValue.length > 2) {\n      props.setLocation(lat, lon)\n      props.history.push(`/weather/${searchValue}/${lat}/${lon}`)\n    }\n  }\n  return (\n    <header className={'App-header ' + (path.length > 0 ? '' : 'start-header')}>\n      <Link to={favoriteLocations.length ? '/favorite' : '/'}><div className=\"App-logo\" alt=\"logo\" /></Link>\n      {\n        path.length > 0 &&\n        <SearchWidget showTitle={false} handleSearch={handleSearch} searchValue={props.searchValue || ''} />\n      }\n    </header>\n  )\n}\n\nexport default withRouter(Header)\n","import React from 'react'\n\nfunction Loading() {\n return (\n   <div>Loading...</div>\n )\n}\n\nexport default Loading","import React, { Component, Suspense, lazy } from 'react'\nimport { HashRouter as Router, Route } from \"react-router-dom\"\nimport './App.css'\nimport { makeItStarry } from './common/Utils'\nimport Header from './common/Header'\nimport Loading from './common/Loading'\nconst StartScreen = lazy(() => import('./start/StartScreen'))\nconst WeatherScreen = lazy(() => import('./weather/WeatherScreen'))\nconst FavoriteScreen = lazy(() => import('./favorite/FavoriteScreen'))\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      searchValue: '',\n      lat: 0,\n      lon: 0,\n      time: 'start',\n      rain: false,\n      hasError: false\n    }\n  }\n\n  static getDerivedStateFromError(error) {\n    return {hasError: true}\n  }\n\n  componentDidCatch(error, errorInfo) {\n    // You can also log the error to an error reporting service\n    console.log(error, errorInfo);\n  }\n\n  componentDidMount() {\n    makeItStarry('starfield')\n  }\n\n  setSearchValue = (value) => {\n    this.setState({searchValue: value})\n  }\n\n  setLocation = (lat, lon) => {\n    this.setState({lat, lon})\n  }\n\n  setTimeAndRain = (time, sunrise, sunset, rain) => {\n    this.setState({rain})\n    if ((sunrise - time) === 1) {\n      this.setState({time: 'dawn'})\n    } else if (time === sunrise) {\n      this.setState({time: 'sunrise'})\n    } else if (time > sunrise && time <= 12) {\n      this.setState({time: 'morning'})\n    } else if (time > 12 && time < sunset) {\n      this.setState({time: 'afternoon'})\n    } else if (time === sunset) {\n      this.setState({time: 'sunset'})\n    } else if ((sunset - time) === 1) {\n      this.setState({time: 'dusk'})\n    } else {\n      this.setState({time: 'night'})\n    }\n  }\n\n  resetBackground = () => {\n    this.setState({time: 'start', rain: false})\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return (\n        <h1>Something went wrong...</h1>\n      )\n    }\n    return (\n      <Router>\n        <div className={`App bg-${this.state.time} ${this.state.rain ? 'bg-rain' : ''}`}>\n          <Header setSearchValue={this.setSearchValue} setLocation={this.setLocation} \n            searchValue={this.state.searchValue} lat={this.state.lat} lon={this.state.lon} />\n          <Suspense fallback={<Loading/>}>\n            <Route path=\"/\" exact render={(props) => \n              <StartScreen {...props} setSearchValue={this.setSearchValue} setLocation={this.setLocation} \n                searchValue={this.state.searchValue} lat={this.state.lat} lon={this.state.lon} resetBackground={this.resetBackground} />} />\n            <Route path=\"/weather/:name/:lat/:lon\" render={(props) => \n              <WeatherScreen {...props} searchValue={this.state.searchValue} setTimeAndRain={this.setTimeAndRain} />} />\n            <Route path=\"/favorite\" render={(props) => <FavoriteScreen {...props} resetBackground={this.resetBackground} />} />\n          </Suspense>\n          <div className=\"bg-start__top\"></div>\n          <div className=\"bg-start__bottom\"><canvas id=\"starfield\" width=\"1500\" height=\"1500\"></canvas></div>\n        </div>\n      </Router>\n    )\n  }\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './app/App';\nimport './index.css';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}