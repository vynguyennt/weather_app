(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{168:function(e,t,a){},296:function(e,t,a){"use strict";a.r(t);var n=a(109),r=a(0),l=a.n(r),c=a(1),o=a(112),s=a(300),i=a(304),m=a(305),u=a(297),d=a(13),f=a(20),h=a(19);a(168);function p(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return w(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return w(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,o=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return c=e.done,e},e:function(e){o=!0,l=e},f:function(){try{c||null==a.return||a.return()}finally{if(o)throw l}}}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}t.default=function(e){var t=Object(f.b)(),a=Object(c.f)(),w=a.name,y=a.lat,E=a.lon,b=Object(r.useState)(!1),v=Object(n.a)(b,2),g=v[0],N=v[1],S=Object(r.useState)(!1),O=Object(n.a)(S,2),j=O[0],_=O[1],k=Object(r.useState)({lat:0,lon:0,timezone:"",timezone_offset:0,current:{dt:0,sunrise:0,sunset:0,temp:0,feels_like:0,pressure:0,humidity:0,dew_point:0,uvi:0,clouds:0,visibility:0,wind_speed:0,wind_deg:0,weather:[{id:0,main:"",description:"",icon:""}]},hourly:[],daily:[]}),M=Object(n.a)(k,2),C=M[0],L=M[1],D=Object(r.useState)(!0),z=Object(n.a)(D,2),J=z[0],x=z[1],A=Object(r.useState)(B),I=Object(n.a)(A,2),T=I[0],Z=I[1],H=Object(r.useRef)(null);function B(){var e,t=p(JSON.parse(window.localStorage.getItem("favoriteLocations"))||[]);try{for(t.s();!(e=t.n()).done;){var a=e.value;if(a.lat==y&&a.lon==E)return!0}}catch(n){t.e(n)}finally{t.f()}return!1}return Object(r.useEffect)(function(){_(!0),Z(B()),Object(d.c)(),fetch("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(y,"&lon=").concat(E,"&exclude=minutely,alerts&appid=").concat(t,"&units=metric")).then(function(e){return e.json()}).then(function(t){if(t.cod)N(!0);else{N(!1),t.hourly=t.hourly.filter(function(e,t,a){return t%2===0}).slice(0,7),t.timezone="UTC"+(t.timezone_offset/3600>=0?"+":"")+Math.floor(t.timezone_offset/3600),L(t),t.current.rain&&Object(d.d)(),t.current.snow&&Object(d.e)();var a=["dt","sunrise","sunset"].map(function(e){return o.DateTime.fromJSDate(new Date(1e3*t.current[e])).setZone(t.timezone).hour}),r=Object(n.a)(a,3),l=r[0],c=r[1],s=r[2];e.setTimeAndRain(l,c,s,!!t.current.rain)}_(!1),H.current.clientHeight<=window.innerHeight&&x(!1)}).catch(function(e){console.log(e),_(!1)})},[e.searchValue,y,E]),j?l.a.createElement(h.a,null):g?l.a.createElement("div",{className:"screen"},l.a.createElement("span",{className:"info-msg"},l.a.createElement("i",null,"No data found"))):l.a.createElement("div",{className:"screen weather-screen",ref:H},l.a.createElement("section",{className:"weather-summary back-row-toggle splat-toggle"},l.a.createElement("div",{className:"rain front-row",id:"front-row"}),l.a.createElement("div",{className:"rain back-row",id:"back-row"}),l.a.createElement("div",{className:"snowflakes"}),l.a.createElement("h1",null,w.toUpperCase()),l.a.createElement("h3",null,o.DateTime.fromJSDate(new Date(1e3*C.current.dt)).setZone(C.timezone).toFormat("cccc, HH:mm")),l.a.createElement("div",{className:"temp-range"},l.a.createElement("h1",null,C.daily[0]?Math.round(C.daily[0].temp.min):Math.round(C.current.temp),"\xb0"),l.a.createElement("p",null,"Low")),l.a.createElement("div",{className:"current-temp"},Math.round(C.current.temp),"\xb0C"),l.a.createElement("div",{className:"temp-range"},l.a.createElement("h1",null,C.daily[0]?Math.round(C.daily[0].temp.max):Math.round(C.current.temp),"\xb0"),l.a.createElement("p",null,"High")),l.a.createElement("h3",{className:"weather-status"},Object(d.a)(C.current.weather[0].description))),l.a.createElement("section",{className:"weather-details "+(J?"":"show-all")},["M0, 50 C150, 120 350,  0 500, 70 L500, 250 L0, 250 Z","M0, 30 C300, 0 400,   200 500, 20 L500, 250 L0, 250 Z","M0, 50 C150, 200 350,  0 500, 50 L500, 250 L0, 250 Z"].map(function(e,t){return l.a.createElement("div",{className:"wavy-border-container",key:t},l.a.createElement("svg",{className:"wavy-border",viewBox:"0 0 500 150",preserveAspectRatio:"xMinYMin meet",style:{zIndex:-1}},l.a.createElement("path",{d:e,style:{stroke:"none",fill:"rgba(255, 255, 255, 0.5)"}})))}),l.a.createElement("div",{className:"show-more-btn hidden",onClick:function(){document.getElementsByClassName("show-more-btn")[0].classList.toggle("show-more"),document.getElementsByClassName("weather-summary")[0].classList.toggle("show-more"),document.getElementsByClassName("weather-details")[0].classList.toggle("show-more")}}),l.a.createElement("button",{type:"button",className:"icon-btn save-location-btn",onClick:function(e){e.preventDefault();var t=JSON.parse(window.localStorage.getItem("favoriteLocations"))||[];if(T){for(var a=-1,n=0;n<t.length;n++)if(t[n].lat==y&&t[n].lon==E){a=n;break}a>=0&&(t.splice(a,1),window.localStorage.setItem("favoriteLocations",JSON.stringify(t))),Z(!1)}else t.push({name:w,lat:y,lon:E}),window.localStorage.setItem("favoriteLocations",JSON.stringify(t)),Z(!0)}},T?l.a.createElement("i",{className:"material-icons"},"favorite"):l.a.createElement("i",{className:"material-icons"},"favorite_border")),l.a.createElement("section",{className:"weather-current"},l.a.createElement("div",{className:"weather-stat"},l.a.createElement("span",null,"Humidity:")," ",C.current.humidity||0," %"),l.a.createElement("div",{className:"weather-stat"},l.a.createElement("span",null,"Pressure:")," ",C.current.pressure||0," hPa"),l.a.createElement("div",{className:"weather-stat"},l.a.createElement("span",null,"Wind:")," ",C.current.wind_speed||0," m/s"),l.a.createElement("div",{className:"weather-stat"},l.a.createElement("span",null,"Cloud:")," ",C.current.clouds||0," %"),l.a.createElement("div",{className:"weather-stat"},l.a.createElement("span",null,"Rain:")," ",C.current.rain?C.current.rain["1h"]:0," mm"),l.a.createElement("div",{className:"weather-stat"},l.a.createElement("span",null,"Snow:")," ",C.current.snow?C.current.snow["1h"]:0," mm")),C.hourly.length&&l.a.createElement("section",{className:"hourly-forecast"},l.a.createElement("h3",{className:"section_label"},"Forecast"),l.a.createElement(s.a,{domainPadding:{y:10},padding:{top:40,right:20,bottom:40,left:20},containerComponent:l.a.createElement(i.a,{style:{pointerEvents:"auto",userSelect:"auto",touchAction:"auto"}}),height:150},l.a.createElement(m.a,null),l.a.createElement(u.a,{style:{data:{stroke:"#c43a31"}},interpolation:"natural",data:C.hourly.map(function(e){var t=o.DateTime.fromJSDate(new Date(1e3*e.dt)).setZone(C.timezone).hour;return{x:t>12?"".concat(t-12,"pm"):"".concat(t,"am"),y:Math.round(e.temp)}}),labels:function(e){return e.datum.y+"\xb0"}}))),C.daily.length&&l.a.createElement("section",{className:"daily-forecast"},l.a.createElement("h3",{className:"section_label"},"This week"),l.a.createElement("div",{className:"scroll-container"},l.a.createElement("ul",{className:"daily-forecast__list"},C.daily.map(function(e){return l.a.createElement("li",{className:"daily-forecast__item",key:e.dt},l.a.createElement("p",null,o.DateTime.fromJSDate(new Date(1e3*e.dt)).setZone(C.timezone).weekdayShort),l.a.createElement("img",{src:"https://openweathermap.org/img/wn/"+e.weather[0].icon+"@2x.png",alt:"",className:"weather-icon daily-forecast__icon"}),l.a.createElement("p",null,Math.round(e.temp.min),"\xb0 - ",Math.round(e.temp.max),"\xb0"))}))))))}}}]);
//# sourceMappingURL=6.741dd650.chunk.js.map